<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="primary">
      <ion-button (click)="logout()">
        logout
      </ion-button>
    </ion-buttons>
    <ion-title>
      Tab 1
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Tab 1</ion-title>
    </ion-toolbar>
  </ion-header>

  <form [formGroup]="vacancaForm" (ngSubmit)="guardarVacanca()">
    <div>
        <label for="nom">Nombre:</label>
        <input type="text" id="nom" formControlName="nom" required>
        <div *ngIf="vacancaForm.get('nom')!.invalid && (vacancaForm.get('nom')!.dirty || vacancaForm.get('nom')!.touched)">
            <div *ngIf="vacancaForm.get('nom')!.errors!['required']">
                El nombre es obligatorio.
            </div>
            <div *ngIf="vacancaForm.get('nom')!.errors!['minlength']">
                El nombre tiene que tener mínimo 5 caracteres.
            </div>
                </div>
    </div>

    <div>
        <label for="preu">Precio:</label>
        <input type="number" id="preu" formControlName="preu" required>
        <div *ngIf="vacancaForm.get('preu')!.invalid && (vacancaForm.get('preu')!.dirty || vacancaForm.get('preu')!.touched)">
        <div *ngIf="vacancaForm.get('preu')!.errors!['required']">
            El precio es obligatorio.
        </div>
        </div>
    </div>

    <div>
        <label for="pais">País:</label>
        <input type="text" id="pais" formControlName="pais" required>
        <div *ngIf="vacancaForm.get('pais')!.invalid && (vacancaForm.get('pais')!.dirty || vacancaForm.get('pais')!.touched)">
        <div *ngIf="vacancaForm.get('pais')!.errors!['required']">
            El país es obligatorio.
        </div>
        </div>
    </div>

    <div>
        <label for="descripcio">Descripción:</label>
        <textarea id="descripcio" formControlName="descripcio"></textarea>
    </div>
      
    <button type="submit">Guardar</button>
</form>

<h2>Vacances</h2>

<ul>
  @for (vacanca of vacances; track $index) {
    <li (click)="logVacanca(vacanca)">{{vacanca.nom}}</li>
}
</ul>

</ion-content>
